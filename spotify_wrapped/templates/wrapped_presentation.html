<div id="slides">
    <div class="slide" id="slide1">
        <h2>Your Top Artists</h2>
        <ul>
            {% for artist in spotify_data.top_artists.items %}
                <li>{{ artist.name }} - {{ artist.genres|join:", " }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="slide" id="slide2">
        <h2>Your Top Tracks</h2>
        <ul>
            {% for track in spotify_data.top_tracks.items %}
                <li>{{ track.name }} by {{ track.artists|join:", " }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="slide" id="slide3">
        <h2>Recently Played</h2>
        <ul>
            {% for item in spotify_data.recent_played.items %}
                <li>{{ item.track.name }} by {{ item.track.artists|join:", " }} on {{ item.played_at }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Add transition and bonus slides -->
    <div class="slide" id="slide4">
        <h2>Your Listening by Time</h2>
        <p>{{ listening_time_stat }}</p>
    </div>

    <div class="slide" id="slide5">
        <h2>Favorite Genre</h2>
        <p>{{ top_genre }}</p>
    </div>

    <div class="slide" id="slide6">
        <h2>Wrap Summary</h2>
        <p>{{ wrap_summary }}</p>
    </div>
    
    <!-- Add transition slides for visual appeal -->
    <div class="slide" id="slide7">
        <h2>Transition Slide</h2>
        <p>Get Ready for the Next Big Reveal!</p>
    </div>
    
    <div class="slide" id="slide8">
        <h2>Thanks for Viewing Your Spotify Wrapped!</h2>
    </div>
</div>

<script>
    let currentSlide = 1;
    const totalSlides = 8; 

    function showSlide(n) {
        for (let i = 1; i <= totalSlides; i++) {
            document.getElementById(`slide${i}`).style.display = 'none';
        }
        document.getElementById(`slide${n}`).style.display = 'block';
    }

    function nextSlide() {
        currentSlide = (currentSlide % totalSlides) + 1;
        showSlide(currentSlide);
    }

    function prevSlide() {
        currentSlide = (currentSlide - 2 + totalSlides) % totalSlides + 1;
        showSlide(currentSlide);
    }

    // Initialize the first slide
    showSlide(currentSlide);
</script>
